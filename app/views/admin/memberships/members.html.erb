<%= render 'show_header' %>

<div class='p-6 container mx-auto'>
  <div class="p-8 mt-6 lg:mt-0 rounded shadow bg-white">
    <table id="zero-config"
      data-controller="datatable"
      class="stripe hover w-full py-4"
      data-datatable-config="<%= { 
        responsive: true
      }.to_json %>">
      <thead>
        <tr class='text-left'>
          <th data-priority="1">Username</th>
          <th data-priority="2">Points</th>
          <th data-priority="3">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @memberships.each do |membership| %>
          <tr>
            <td><%= membership.account.username %></td>
            <td><%= membership.membership_weeks.sum(:points) %></td>
            <td>
              <%= link_to 'Ver', admin_membership_path(membership), class: 'btn btn--primary' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>