<div class='relative ml-0 lg:ml-3 z-30' data-controller='navigation'>
  <div data-action="click->navigation#toggleUserSettings" class="flex justify-center items-center bg-gray-500 select-none cursor-pointer h-12 w-12 text-xl rounded-full overflow-hidden border-2 border-gray-400 focus:outline-none">
    <%= current_user.full_name.capitalize.chr %>
  </div>
  <div data-navigation-target='userSettingsOverlay' data-action="click->navigation#toggleUserSettings" tabindex="-1" class="fixed hidden inset-0 h-full w-full cursor-default"></div>
  <div data-navigation-target='userSettings' class="hidden overflow-hidden absolute right-0 w-56 mt-3 bg-white rounded-lg shadow-xl">
    <span class="text-xl font-bold block px-4 pt-2 pb-1 text-gray-800"><%= current_user.full_name %></span>
    <span class="block px-4 pb-2 text-gray-800"><%= current_user.email %></span>
    <%= link_to 'Gestiona tu cuenta', edit_user_registration_path, class: 'block px-4 pb-2 text-blue-700 hover:underline' %>
    <%= link_to 'Grupo de WhatsApp', 'https://chat.whatsapp.com/LO0q9ldhuD6EYJVGLMgSOg', class: 'block px-4 pb-2 text-blue-700 hover:underline' if current_user.has_at_least_one_membership? %>
    <%= link_to 'Reglas', rules_path, class: 'block px-4 pb-2 text-blue-700 hover:underline' %>
    <%= link_to 'Acceso Admins', admin_groups_path, class: 'block px-4 pb-2 text-blue-700 hover:underline' if current_user.admin? %>
    <hr />
    <%= link_to 'Cerrar SesiÃ³n', destroy_user_session_path, method: :delete, class: 'block px-4 py-2 text-gray-800 hover:bg-indigo-500 hover:text-white' %>
  </div>
</div>